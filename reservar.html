<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reservar servicio - COLESTUR</title>

  <link rel="stylesheet" href="css/style.css">
  <link rel="manifest" href="manifest.json">

  <style>
    /* Ajustes espec√≠ficos solo para esta p√°gina */
    #map {
      height: 260px;
      border-radius: 18px;
      overflow: hidden;
      margin: 18px 0;
    }

    .primary-btn {
      width: 100%;
      background: var(--accent);
      padding: 14px;
      border-radius: 999px;
      border: none;
      font-size: 16px;
      color: white;
      margin-top: 10px;
      font-weight: 600;
    }

    .details-card {
      margin-top: 18px;
      background: var(--card);
      border-radius: 18px;
      padding: 16px;
      border: 1px solid rgba(255,255,255,0.03);
    }

    .details-grid {
      display: grid;
      gap: 14px;
    }

    .field-block label {
      font-size: 12px;
      color: var(--muted);
      display: block;
      margin-bottom: 4px;
    }

    .field-block input,
    .field-block select {
      width: 100%;
      border-radius: 10px;
      padding: 10px;
      background: #0f1016;
      border: 1px solid #20222e;
      color: var(--text);
    }
  </style>
</head>

<body>

<header class="header">
  <div class="logo-circle">CR</div>
  <div class="brand-text">
    <span>TRANSPORTE ESPECIAL</span>
    <h1>COLESTUR S.A.S.</h1>
  </div>
</header>

<main>

  <section class="welcome-card">
    <div class="welcome-dot">üîµ</div>
    <div>
      <h1 class="slogan">En COLESTUR estamos listos para rodar contigo.</h1>
      <p>Programa aqu√≠ tu servicio de transporte especial, empresarial, escolar, tur√≠stico o aeropuerto.</p>
    </div>
  </section>

  <section class="services-card">
    <h2>Planifica tu servicio</h2>

    <div class="fields-stack">
      <div class="field-row">
        <div class="field-dot"></div>
        <div class="field-content">
          <label>Punto de recogida</label>
          <input id="origen" type="text" placeholder="Detectando ubicaci√≥n..." />
        </div>
      </div>

      <div class="field-row">
        <div class="field-dot dest"></div>
        <div class="field-content">
          <label>¬øA d√≥nde vas?</label>
          <input id="destino" type="text" placeholder="Escribe tu destino" />
        </div>
      </div>
    </div>

    <div class="suggestions">
      <span class="chip" data-serv="Escolar">Escolar</span>
      <span class="chip" data-serv="Empresarial">Empresarial</span>
      <span class="chip" data-serv="Turismo">Turismo</span>
      <span class="chip" data-serv="Aeropuerto">Aeropuerto</span>
    </div>
  </section>

  <div id="map"></div>

  <section class="details-card">
    <h2>Detalles de la reserva</h2>

    <div class="details-grid">
      <div class="field-block">
        <label>Nombre completo</label>
        <input id="nombre" type="text" placeholder="Tu nombre" />
      </div>

      <div class="field-block">
        <label>WhatsApp</label>
        <input id="telefono" type="tel" placeholder="Ej: 573001234567" />
      </div>

      <div class="field-block">
        <label>Tipo de servicio</label>
        <select id="servicio">
          <option value="Escolar">Escolar</option>
          <option value="Empresarial">Empresarial</option>
          <option value="Turismo">Turismo</option>
          <option value="Aeropuerto">Aeropuerto</option>
        </select>
      </div>

      <div class="field-block">
        <label>Fecha</label>
        <input id="fecha" type="date" />
      </div>

      <div class="field-block">
        <label>Hora</label>
        <input id="hora" type="time" />
      </div>

      <div class="field-block">
        <label>Pasajeros</label>
        <input id="pasajeros" type="number" min="1" value="1" />
      </div>
    </div>

    <button id="btnReservar" class="primary-btn">Confirmar reserva COLESTUR</button>
    <p id="mensajeReserva" style="margin-top:10px; font-size:13px;"></p>
  </section>

  <!-- COORDENADAS OCULTAS -->
  <input type="hidden" id="origen_lat">
  <input type="hidden" id="origen_lng">
  <input type="hidden" id="destino_lat">
  <input type="hidden" id="destino_lng">

</main>

<!-- NAV BOTTOM -->
<nav class="bottom-nav">
  <a href="index.html">üè† Inicio</a>
  <a href="reservar.html" style="color:white">üöå Reservar</a>
  <a href="contacto.html">üìû Contacto</a>
</nav>

<!-- MAP + GEOLOCATION -->
<script>
let map, originMarker;

function initMap() {
  map = new google.maps.Map(document.getElementById("map"), {
    center: { lat: 4.7, lng: -74.1 },
    zoom: 13,
    disableDefaultUI: true
  });

  // Obtener ubicaci√≥n real
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
      pos => {
        const loc = {
          lat: pos.coords.latitude,
          lng: pos.coords.longitude
        };

        // Convertir coordenadas ‚Üí direcci√≥n real
        const geocoder = new google.maps.Geocoder();
        geocoder.geocode({ location: loc }, (results, status) => {
          if (status === "OK" && results[0]) {
            document.getElementById("origen").value = results[0].formatted_address;
          }
        });

        map.setCenter(loc);
        map.setZoom(14);

        originMarker = new google.maps.Marker({
          position: loc,
          map,
        });
      }
    );
  }
}
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD32zkRd46s5jKHkTjj2868WOMfv7m_V48&libraries=places&callback=initMap" async defer></script>

<script>
document.querySelectorAll(".chip").forEach(chip =>
  chip.addEventListener("click", () => {
    document.getElementById("servicio").value = chip.dataset.serv;
  })
);
</script>

</body>
</html>
