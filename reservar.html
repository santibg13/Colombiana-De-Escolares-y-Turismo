<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Reservar ‚Äì COLESTUR</title>

<style>
  :root {
    --bg: #050508;
    --card: #0c0d11;
    --card-soft: #13141b;
    --accent: #3a7ce9;
    --accent-glow: rgba(58,124,233,0.35);
    --text: #f4f6f9;
    --muted: #9ca3b5;
    --border: #1c1d25;
    --success: #42ba96;
    --danger: #ff5a5f;
  }

  body {
    margin: 0;
    background: var(--bg);
    font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
    color: var(--text);
  }

  header {
    padding: 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    border-bottom: 1px solid #0e1015;
    background: rgba(10,10,14,0.6);
    backdrop-filter: blur(8px);
  }

  .logo-circle {
    width: 38px;
    height: 38px;
    background: linear-gradient(135deg, #ffeaa7, #f1c40f);
    font-weight: 900;
    color: #111;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
  }

  main { padding: 20px 16px 130px; }

  .trip-card {
    background: var(--card);
    padding: 18px;
    border-radius: 18px;
    border: 1px solid var(--border);
    margin-bottom: 18px;
  }

  .input-block { margin-bottom: 12px; }
  label { font-size: 12px; color: var(--muted); }

  input, select {
    width: 100%;
    padding: 12px;
    border-radius: 14px;
    border: 1px solid var(--border);
    background: var(--card-soft);
    color: var(--text);
    font-size: 14px;
  }

  #map {
    width: 100%;
    height: 300px;
    border-radius: 16px;
    margin-top: 12px;
  }

  /* DISTANCIA / TIEMPO */
  #tripInfo {
    margin-top: 10px;
    font-size: 15px;
    background: #0f1015;
    padding: 14px;
    border-radius: 12px;
    border: 1px solid #20222c;
  }

  #tripInfo span {
    display: block;
    margin-bottom: 6px;
  }

  /* BOT√ìN CONFIRMAR */
  .confirm-container {
    position: fixed;
    bottom: 70px;
    left: 0;
    right: 0;
    padding: 0 18px;
    display: flex;
    justify-content: center;
    z-index: 9999;
  }

  .btn-confirm {
    width: 100%;
    background: var(--accent);
    padding: 15px;
    border: none;
    border-radius: 999px;
    color: white;
    font-weight: 700;
    font-size: 16px;
    box-shadow: 0 12px 28px rgba(58,124,233,.45);
  }

  /* BARRA INFERIOR */
  .bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0; right: 0;
    background: #0b0c10;
    border-top: 1px solid #1b1c22;
    display: flex;
    justify-content: space-around;
    padding: 12px 0;
    z-index: 999;
  }

  .bottom-nav a {
    text-align: center;
    color: var(--muted);
    font-size: 13px;
    text-decoration: none;
  }

</style>
</head>

<body>

<header>
  <div class="logo-circle">CR</div>
  <div>
    <div style="font-size:12px;color:var(--muted);">TRANSPORTE ESPECIAL</div>
    <h1 style="margin:0;font-size:20px;">COLESTUR S.A.S.</h1>
  </div>
</header>

<main>

  <section class="trip-card">
    <div class="input-block">
      <label>Punto de recogida</label>
      <input id="origen" placeholder="Buscando ubicaci√≥n‚Ä¶" />
    </div>

    <div class="input-block">
      <label>Destino</label>
      <input id="destino" placeholder="¬øA d√≥nde vas?" />
    </div>
  </section>

  <div id="map"></div>

  <div id="tripInfo"></div>

  <section class="trip-card">
    <div class="input-block">
      <label>Nombre completo</label>
      <input id="nombre">
    </div>

    <div class="input-block">
      <label>WhatsApp</label>
      <input id="telefono">
    </div>

    <div class="input-block">
      <label>Servicio</label>
      <select id="servicio">
        <option>Escolar</option>
        <option>Empresarial</option>
        <option>Turismo</option>
        <option>Aeropuerto</option>
      </select>
    </div>
  </section>

</main>

<!-- BOT√ìN CONFIRMAR -->
<div class="confirm-container">
  <button id="btnReservar" class="btn-confirm">Confirmar reserva</button>
</div>

<!-- BARRA INFERIOR -->
<div class="bottom-nav">
  <a href="index.html">üè†<br>Inicio</a>
  <a href="reservar.html">üöå<br>Reservar</a>
  <a href="contacto.html">üìû<br>Contacto</a>
</div>

<!-- GOOGLE MAPS -->
<script>
let map, directions, renderer, autocompleteOri, autocompleteDes;

function initMap() {

  directions = new google.maps.DirectionsService();
  renderer = new google.maps.DirectionsRenderer({ suppressMarkers: false });

  map = new google.maps.Map(document.getElementById("map"), {
    zoom: 14,
    center: { lat: 4.711, lng: -74.072 },
    disableDefaultUI: true,
  });

  renderer.setMap(map);

  const ori = document.getElementById("origen");
  const des = document.getElementById("destino");

  autocompleteOri = new google.maps.places.Autocomplete(ori, { componentRestrictions: { country: "co" } });
  autocompleteDes = new google.maps.places.Autocomplete(des, { componentRestrictions: { country: "co" } });

  autocompleteOri.addListener("place_changed", () => {
    let place = autocompleteOri.getPlace();
    if (place.geometry) calculateRoute();
  });

  autocompleteDes.addListener("place_changed", () => {
    let place = autocompleteDes.getPlace();
    if (place.geometry) calculateRoute();
  });

  navigator.geolocation.getCurrentPosition((pos) => {
    let userLoc = { lat: pos.coords.latitude, lng: pos.coords.longitude };
    map.setCenter(userLoc);
    ori.value = ${userLoc.lat.toFixed(5)}, ${userLoc.lng.toFixed(5)};
    calculateRoute();
  });
}

function calculateRoute() {
  let origen = document.getElementById("origen").value;
  let destino = document.getElementById("destino").value;

  if (!origen || !destino) return;

  directions.route(
    {
      origin: origen,
      destination: destino,
      travelMode: "DRIVING",
      drivingOptions: {
        departureTime: new Date(),
        trafficModel: "best_guess"
      }
    },
    (res, status) => {
      if (status === "OK") {
        renderer.setDirections(res);

        const leg = res.routes[0].legs[0];
        document.getElementById("tripInfo").innerHTML = `
          <span><b>Distancia:</b> ${leg.distance.text}</span>
          <span><b>Tiempo estimado:</b> ${leg.duration_in_traffic.text}</span>
        `;
      }
    }
  );
}

window.initMap = initMap;
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD32zkRd46s5jKHkTjj2868WOMfv7m_V48&libraries=places&callback=initMap" async defer></script>

</body>
</html>
